apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: smoke-ok
  namespace: kgateway-system
spec:
  parentRefs:
    - name: agentgateway
      sectionName: http
  rules:
    - matches:
        - path:
            type: PathPrefix
            value: /
      filters:
        - type: ResponseHeaderModifier
          responseHeaderModifier:
            set:
              - name: content-type
                value: text/plain
        - type: ExtensionRef
          extensionRef:
            group: gateway.kgateway.dev
            kind: DirectResponse
            name: dr-ok
---
apiVersion: gateway.kgateway.dev/v1alpha1
kind: DirectResponse
metadata:
  name: dr-ok
  namespace: kgateway-system
spec:
  status: 200
  body: "ok"
